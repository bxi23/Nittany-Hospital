<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Buyers Home</title>

    <!-- Bootstrap Style Sheet -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
</head>
<body>
     <!-- header -->
    <div class="container-sm">
        <div class="card-body" align="center">
            <div>
                <h1>WELCOME TO NITTANY MARKET</h1>
            </div>

            <div>
                <label for="category_select" >Search Product Category:</label>
                <label for="p_cat_sel">Parent Category</label>
                <select name="p_cat_sel" id="p_cat_sel">
                    <option value ="Any">Any</option>
                    {% for option in p_cats %}
                        <option value = {{ option[0] }}>{{ option[0] }}</option>
                    {% endfor %}
                </select>
                <button type="submit" class="btn btn-primary">select</button>




                    <label for="cat_sel">Category:</label>
                    <select name= "cat_sel" id ="cat_sel">
                        <option value = "None">None</option>
                    </select>

                    <button type="submit" class="btn btn-primary">Search</button>
            </div>
           <!-- <script>
                function parentCategory(){
                    var cat = document.getElementById("p_cat_sel").value;
                    const request = new XMLHttpRequest()
                    request.open('POST','/buyer')
                    request.on

                }
            </script>-->



            <div>
                <h2 class="card-title">Product Listings</h2>
                <table class="table table-dark" id ="prod_table">
                    <tr>
                        <th scope="col"> Title</th>
                        <th scope="col"> Product Name</th>
                        <th scope="col"> Product Description</th>
                        <th scope="col"> Price</th>
                        <th scope="col"> Quantity</th>
                    </tr>
                    <tbody>
                    {% set show_listings = 15 %}
                    {% set page = 1 %}
                    {% for title, product_name, product_description, price,quantity in list_result[:show_listings] %}
                        <tr>
                            <td> {{ title }} </td>
                            <td> {{ product_name }} </td>
                            <td> {{ product_description }} </td>
                            <td>{{ price }}</td>
                            <td>{{ quantity }}</td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
                {% set s_num = show_listings*page-15 %}
                {% set f_num = show_listings*page %}
                <p>Showing {{ s_num }} of {{f_num}} {{ abc }}</p>
                <!--<button id="list_next_page" action = "/buyer" method="Post">Next Page</button>-->
            </div>
        </div>


</body>
</html>